import{q as y,r as V}from"./chunk-L2SPN6SO.js";import{B as u,G as o,U as g,Z as w,ca as _,l as r,m,p as d}from"./chunk-EBI22OCP.js";var U=[{text:"Great customer service experience with your team today!",final_prediction:"Very Positive",confidence:45,sentiment_scores:[{name:"Very Negative",value:5},{name:"Slightly Negative",value:7},{name:"Neutral",value:13},{name:"Slightly Positive",value:30},{name:"Very Positive",value:45}],timestamp:new Date("2025-05-20T17:13:00")},{text:"Product arrived damaged and missing parts.",final_prediction:"Very Negative",confidence:42,sentiment_scores:[{name:"Very Negative",value:42},{name:"Slightly Negative",value:28},{name:"Neutral",value:15},{name:"Slightly Positive",value:10},{name:"Very Positive",value:5}],timestamp:new Date("2025-05-20T16:13:00")},{text:"The documentation was clear and helpful.",final_prediction:"Slightly Positive",confidence:38,sentiment_scores:[{name:"Very Negative",value:8},{name:"Slightly Negative",value:12},{name:"Neutral",value:20},{name:"Slightly Positive",value:38},{name:"Very Positive",value:22}],timestamp:new Date("2025-05-20T15:13:00")},{text:"Waiting for my refund for over 2 weeks now.",final_prediction:"Slightly Negative",confidence:35,sentiment_scores:[{name:"Very Negative",value:25},{name:"Slightly Negative",value:35},{name:"Neutral",value:20},{name:"Slightly Positive",value:15},{name:"Very Positive",value:5}],timestamp:new Date("2025-05-20T14:13:00")},{text:"Neutral review, does what it says.",final_prediction:"Neutral",confidence:40,sentiment_scores:[{name:"Very Negative",value:12},{name:"Slightly Negative",value:18},{name:"Neutral",value:40},{name:"Slightly Positive",value:20},{name:"Very Positive",value:10}],timestamp:new Date("2025-05-20T13:13:00")},{text:"The product exceeded my expectations in every way.",final_prediction:"Very Positive",confidence:45,sentiment_scores:[{name:"Very Negative",value:5},{name:"Slightly Negative",value:7},{name:"Neutral",value:13},{name:"Slightly Positive",value:30},{name:"Very Positive",value:45}],timestamp:new Date("2025-05-20T12:13:00")},{text:"This was a complete waste of money.",final_prediction:"Very Negative",confidence:42,sentiment_scores:[{name:"Very Negative",value:42},{name:"Slightly Negative",value:28},{name:"Neutral",value:15},{name:"Slightly Positive",value:10},{name:"Very Positive",value:5}],timestamp:new Date("2025-05-20T11:13:00")},{text:"Average product, nothing special but works fine.",final_prediction:"Slightly Positive",confidence:38,sentiment_scores:[{name:"Very Negative",value:8},{name:"Slightly Negative",value:12},{name:"Neutral",value:20},{name:"Slightly Positive",value:38},{name:"Very Positive",value:22}],timestamp:new Date("2025-05-20T10:13:00")},{text:"The customer support team was very responsive.",final_prediction:"Slightly Negative",confidence:35,sentiment_scores:[{name:"Very Negative",value:25},{name:"Slightly Negative",value:35},{name:"Neutral",value:20},{name:"Slightly Positive",value:15},{name:"Very Positive",value:5}],timestamp:new Date("2025-05-20T09:13:00")},{text:"Software is buggy and crashes frequently.",final_prediction:"Neutral",confidence:40,sentiment_scores:[{name:"Very Negative",value:12},{name:"Slightly Negative",value:18},{name:"Neutral",value:40},{name:"Slightly Positive",value:20},{name:"Very Positive",value:10}],timestamp:new Date("2025-05-20T08:13:00")},{text:"Thank you for the prompt delivery!",final_prediction:"Very Positive",confidence:45,sentiment_scores:[{name:"Very Negative",value:5},{name:"Slightly Negative",value:7},{name:"Neutral",value:13},{name:"Slightly Positive",value:30},{name:"Very Positive",value:45}],timestamp:new Date("2025-05-20T07:13:00")},{text:"Will definitely recommend to my friends.",final_prediction:"Very Negative",confidence:42,sentiment_scores:[{name:"Very Negative",value:42},{name:"Slightly Negative",value:28},{name:"Neutral",value:15},{name:"Slightly Positive",value:10},{name:"Very Positive",value:5}],timestamp:new Date("2025-05-20T06:13:00")},{text:"Not what I expected based on the description.",final_prediction:"Slightly Positive",confidence:38,sentiment_scores:[{name:"Very Negative",value:8},{name:"Slightly Negative",value:12},{name:"Neutral",value:20},{name:"Slightly Positive",value:38},{name:"Very Positive",value:22}],timestamp:new Date("2025-05-20T05:13:00")}],H=[{id:"csv1",name:"Customer Feedback",isDefault:!1,data:[{text:"The service was exceptional and I'm very satisfied.",final_prediction:"Very Positive",confidence:85,timestamp:new Date("2025-05-18T15:00:00"),sentiment_scores:[{name:"Very Negative",value:3},{name:"Slightly Negative",value:2},{name:"Neutral",value:4},{name:"Slightly Positive",value:6},{name:"Very Positive",value:85}]},{text:"Staff was rude and the product didn't work at all.",final_prediction:"Very Negative",confidence:72,timestamp:new Date("2025-05-18T15:00:00"),sentiment_scores:[{name:"Very Negative",value:72},{name:"Slightly Negative",value:18},{name:"Neutral",value:5},{name:"Slightly Positive",value:3},{name:"Very Positive",value:2}]},{text:"It functions as expected, no issues so far.",final_prediction:"Neutral",confidence:65,timestamp:new Date("2025-05-18T15:00:00"),sentiment_scores:[{name:"Very Negative",value:5},{name:"Slightly Negative",value:8},{name:"Neutral",value:65},{name:"Slightly Positive",value:15},{name:"Very Positive",value:7}]},{text:"The online experience could be improved.",final_prediction:"Slightly Negative",confidence:55,timestamp:new Date("2025-05-18T15:00:00"),sentiment_scores:[{name:"Very Negative",value:15},{name:"Slightly Negative",value:55},{name:"Neutral",value:20},{name:"Slightly Positive",value:7},{name:"Very Positive",value:3}]},{text:"I'm mostly happy with my purchase.",final_prediction:"Slightly Positive",confidence:68,timestamp:new Date("2025-05-18T15:00:00"),sentiment_scores:[{name:"Very Negative",value:5},{name:"Slightly Negative",value:7},{name:"Neutral",value:10},{name:"Slightly Positive",value:68},{name:"Very Positive",value:10}]},{text:"Product is amazing but delivery was slow.",final_prediction:"Slightly Positive",confidence:62,timestamp:new Date("2025-05-18T15:00:00"),sentiment_scores:[{name:"Very Negative",value:8},{name:"Slightly Negative",value:15},{name:"Neutral",value:5},{name:"Slightly Positive",value:62},{name:"Very Positive",value:10}]},{text:"I returned the item immediately.",final_prediction:"Slightly Negative",confidence:58,timestamp:new Date("2025-05-18T15:00:00"),sentiment_scores:[{name:"Very Negative",value:25},{name:"Slightly Negative",value:58},{name:"Neutral",value:12},{name:"Slightly Positive",value:3},{name:"Very Positive",value:2}]},{text:"It's ok I guess, nothing special.",final_prediction:"Neutral",confidence:70,timestamp:new Date("2025-05-18T15:00:00"),sentiment_scores:[{name:"Very Negative",value:5},{name:"Slightly Negative",value:10},{name:"Neutral",value:70},{name:"Slightly Positive",value:10},{name:"Very Positive",value:5}]},{text:"Great value for money, highly recommended!",final_prediction:"Very Positive",confidence:80,timestamp:new Date("2025-05-18T15:00:00"),sentiment_scores:[{name:"Very Negative",value:2},{name:"Slightly Negative",value:3},{name:"Neutral",value:5},{name:"Slightly Positive",value:10},{name:"Very Positive",value:80}]},{text:"The website crashed during checkout.",final_prediction:"Very Negative",confidence:75,timestamp:new Date("2025-05-18T15:00:00"),sentiment_scores:[{name:"Very Negative",value:75},{name:"Slightly Negative",value:15},{name:"Neutral",value:5},{name:"Slightly Positive",value:3},{name:"Very Positive",value:2}]},{text:"Not worth the price I paid.",final_prediction:"Slightly Negative",confidence:60,timestamp:new Date("2025-05-18T15:00:00"),sentiment_scores:[{name:"Very Negative",value:25},{name:"Slightly Negative",value:60},{name:"Neutral",value:10},{name:"Slightly Positive",value:3},{name:"Very Positive",value:2}]},{text:"The shipping was incredibly fast!",final_prediction:"Very Positive",confidence:78,timestamp:new Date("2025-05-18T15:00:00"),sentiment_scores:[{name:"Very Negative",value:2},{name:"Slightly Negative",value:5},{name:"Neutral",value:5},{name:"Slightly Positive",value:10},{name:"Very Positive",value:78}]}],status:"completed",timestamp:new Date("2025-05-18T14:30:00"),chartData:h("Customer Feedback")},{id:"csv2",name:"Product Reviews",isDefault:!1,data:[{text:"This product changed my life!",final_prediction:"Very Positive",confidence:88,timestamp:new Date("2025-05-18T15:00:00"),sentiment_scores:[{name:"Very Negative",value:2},{name:"Slightly Negative",value:2},{name:"Neutral",value:3},{name:"Slightly Positive",value:5},{name:"Very Positive",value:88}]},{text:"It broke after two days of use.",final_prediction:"Very Negative",confidence:76,timestamp:new Date("2025-05-18T15:00:00"),sentiment_scores:[{name:"Very Negative",value:76},{name:"Slightly Negative",value:15},{name:"Neutral",value:5},{name:"Slightly Positive",value:2},{name:"Very Positive",value:2}]},{text:"Works as described, average performance.",final_prediction:"Neutral",confidence:65,timestamp:new Date("2025-05-18T15:00:00"),sentiment_scores:[{name:"Very Negative",value:5},{name:"Slightly Negative",value:10},{name:"Neutral",value:65},{name:"Slightly Positive",value:15},{name:"Very Positive",value:5}]}],status:"completed",timestamp:new Date("2025-05-19T09:45:00"),chartData:h("Product Reviews")}],$=[{id:"pending1",name:"large_dataset_processing.csv",timestamp:new Date(Date.now()-15*6e4)},{id:"pending2",name:"financial_predictions_2025.csv",timestamp:new Date(Date.now()-5*6e4)}],C=[{id:"my1",name:"customer_segmentation.csv",status:"completed",timestamp:new Date(Date.now()-2*24*60*6e4),isDefault:!1,data:[{text:"I love your products and will keep buying them!",final_prediction:"Very Positive",confidence:90,sentiment_scores:[{name:"Very Negative",value:2},{name:"Slightly Negative",value:2},{name:"Neutral",value:1},{name:"Slightly Positive",value:5},{name:"Very Positive",value:90}],timestamp:new Date},{text:"Service was average, could be improved.",final_prediction:"Neutral",confidence:62,sentiment_scores:[{name:"Very Negative",value:8},{name:"Slightly Negative",value:15},{name:"Neutral",value:62},{name:"Slightly Positive",value:10},{name:"Very Positive",value:5}],timestamp:new Date},{text:"I was very disappointed with my experience.",final_prediction:"Slightly Negative",confidence:68,sentiment_scores:[{name:"Very Negative",value:20},{name:"Slightly Negative",value:68},{name:"Neutral",value:5},{name:"Slightly Positive",value:5},{name:"Very Positive",value:2}],timestamp:new Date}],chartData:h("Customer Segmentation")},{id:"my2",name:"marketing_campaign_results.csv",status:"completed",timestamp:new Date(Date.now()-1*24*60*6e4),isDefault:!1,data:[{text:"Your promotional email was very informative.",final_prediction:"Slightly Positive",confidence:72,sentiment_scores:[{name:"Very Negative",value:3},{name:"Slightly Negative",value:5},{name:"Neutral",value:10},{name:"Slightly Positive",value:72},{name:"Very Positive",value:10}],timestamp:new Date},{text:"I find these marketing emails annoying.",final_prediction:"Slightly Negative",confidence:65,sentiment_scores:[{name:"Very Negative",value:20},{name:"Slightly Negative",value:65},{name:"Neutral",value:10},{name:"Slightly Positive",value:3},{name:"Very Positive",value:2}],timestamp:new Date}],chartData:h("Marketing Campaign Results")}];function h(n){return{labels:["Very Negative","Slightly Negative","Neutral","Slightly Positive","Very Positive"],datasets:[{label:n+" Sentiment Analysis",backgroundColor:["rgba(220, 53, 69, 0.8)","rgba(255, 193, 7, 0.8)","rgba(108, 117, 125, 0.8)","rgba(13, 202, 240, 0.8)","rgba(25, 135, 84, 0.8)"],borderColor:"rgba(179,181,198,1)",data:[Math.floor(Math.random()*20+5),Math.floor(Math.random()*25+10),Math.floor(Math.random()*30+15),Math.floor(Math.random()*35+10),Math.floor(Math.random()*25+10)]}]}}var f=[...U],v=[...$],c=[...C],N=[...H];function D(n){let s=Math.floor(Math.random()*65)+30,e=A(),t=[{name:"Very Negative",value:Math.floor(Math.random()*25)+5},{name:"Slightly Negative",value:Math.floor(Math.random()*25)+5},{name:"Neutral",value:Math.floor(Math.random()*25)+5},{name:"Slightly Positive",value:Math.floor(Math.random()*25)+5},{name:"Very Positive",value:Math.floor(Math.random()*25)+5}],i=t.findIndex(l=>l.name===e);i>=0&&(t[i].value=s);let a={text:n,final_prediction:e,confidence:s,sentiment_scores:t,timestamp:new Date};return S(a),a}function x(n){let s="file_"+Date.now(),e=new Date,t={id:s,name:n.name,timestamp:e};return v.push(t),setTimeout(()=>{let i=v.findIndex(a=>a.id===s);if(i!==-1){v.splice(i,1);let a={id:s,name:n.name,status:"completed",timestamp:new Date,isDefault:!1,data:[{text:"We love your customer service approach!",final_prediction:"Very Positive",confidence:92,sentiment_scores:[{name:"Very Negative",value:1},{name:"Slightly Negative",value:2},{name:"Neutral",value:1},{name:"Slightly Positive",value:4},{name:"Very Positive",value:92}],timestamp:new Date},{text:"The product is okay but delivery was slow.",final_prediction:"Neutral",confidence:68,sentiment_scores:[{name:"Very Negative",value:5},{name:"Slightly Negative",value:12},{name:"Neutral",value:68},{name:"Slightly Positive",value:10},{name:"Very Positive",value:5}],timestamp:new Date},{text:"I was disappointed with the quality.",final_prediction:"Slightly Negative",confidence:75,sentiment_scores:[{name:"Very Negative",value:15},{name:"Slightly Negative",value:75},{name:"Neutral",value:5},{name:"Slightly Positive",value:3},{name:"Very Positive",value:2}],timestamp:new Date}],chartData:{labels:["Very Negative","Slightly Negative","Neutral","Slightly Positive","Very Positive"],datasets:[{label:"Sentiment Analysis Results",backgroundColor:["rgba(220, 53, 69, 0.8)","rgba(255, 193, 7, 0.8)","rgba(108, 117, 125, 0.8)","rgba(13, 202, 240, 0.8)","rgba(25, 135, 84, 0.8)"],borderColor:"rgba(179,181,198,1)",data:[7,29,25,14,31]}]}};c.push(a),N.push(a)}},8e3),r({fileId:s,name:n.name,timestamp:e}).pipe(o(800))}function k(){return r({pendingFiles:v,completedFiles:c}).pipe(o(600))}function T(n,s,e){let t=N.find(p=>p.id===n)||c.find(p=>p.id===n);if(!t||!t.data)return m(()=>new Error("File not found"));let i=t.data.length,a=Math.ceil(i/e),l=s*e,I=l+e,E=t.data.slice(l,I);return r({data:E,pagination:{currentPage:s,pageSize:e,totalItems:i,totalPages:a,hasNext:s<a-1,hasPrevious:s>0},fileInfo:{id:t.id,name:t.name,status:t.status,timestamp:t.timestamp}}).pipe(o(500))}function M(n){let s=N.find(t=>t.id===n);if(s)return r(s).pipe(o(700));let e=c.find(t=>t.id===n);return e?r(e).pipe(o(700)):m(()=>new Error("File not found"))}function F(n){let s=v.findIndex(a=>a.id===n);if(s===-1)return c.find(l=>l.id===n)?r({status:"completed"}).pipe(o(300)):r({status:"error",progress:0}).pipe(o(300));let e=v[s],t=Date.now()-e.timestamp.getTime(),i=Math.min(Math.floor(t/8e3*100),99);return r({status:"pending",progress:i}).pipe(o(300))}function P(){return r({predictionHistory:f,pendingFiles:v,completedFiles:c}).pipe(o(800))}function S(n){f.some(e=>e.text===n.text&&(e.timestamp instanceof Date&&n.timestamp instanceof Date&&e.timestamp.getTime()===n.timestamp.getTime()||typeof e.timestamp=="string"&&typeof n.timestamp=="string"&&e.timestamp===n.timestamp))||f.unshift({text:n.text,final_prediction:n.final_prediction,confidence:n.confidence,sentiment_scores:n.sentiment_scores||[],timestamp:n.timestamp})}function A(){let n=["Very Positive","Slightly Positive","Neutral","Slightly Negative","Very Negative"];return n[Math.floor(Math.random()*n.length)]}var b={production:!1,apiUrl:"localhost:3000/api"};var K=(()=>{class n{constructor(e){this.http=e,this.apiUrl=b.apiUrl||"https://api.yourdomain.com",this.useMockData=!1,this.authToken=null,this.validUsers=[{username:"testuser",password:"password123",email:"test@example.com"},{username:"admin",password:"admin123",email:"admin@example.com"}],this.authToken=localStorage.getItem("authToken")}login(e,t){if(this.useMockData)return this.mockLogin(e,t);let i=`${this.apiUrl}/login`;return this.http.post(i,{username:e,password:t}).pipe(g(a=>{a&&a.token&&(this.authToken=a.token,localStorage.setItem("authToken",a.token),a.user&&a.user.username&&localStorage.setItem("username",a.user.username))}),u(this.handleError))}register(e,t,i){if(this.useMockData)return this.mockRegister(e,t,i);let a=`${this.apiUrl}/signup`;return this.http.post(a,{email:e,username:t,password:i}).pipe(u(this.handleError))}logout(){this.authToken=null,localStorage.removeItem("authToken")}isLoggedIn(){return!!this.authToken}mockLogin(e,t){let i=this.validUsers.find(a=>a.username===e&&a.password===t);if(i){let a=`mock-jwt-token-${Math.random().toString(36).substring(2,15)}`;return this.authToken=a,localStorage.setItem("authToken",a),localStorage.setItem("username",i.username),r({token:a,user:{username:i.username,email:i.email}}).pipe(o(800))}else return m(()=>new Error("Invalid username or password")).pipe(o(800))}mockRegister(e,t,i){return this.validUsers.some(a=>a.username===t)?m(()=>new Error("Username already exists")).pipe(o(800)):this.validUsers.some(a=>a.email===e)?m(()=>new Error("Email already registered")).pipe(o(800)):(this.validUsers.push({username:t,password:i,email:e}),r({success:!0,message:"Registration successful"}).pipe(o(800)))}handleError(e){let t="";return e.error instanceof ErrorEvent?t=`Error: ${e.error.message}`:t=`Error Code: ${e.status}
Message: ${e.message}`,m(()=>new Error(t))}getAuthHeaders(){let e=localStorage.getItem("username")||"";return new y({"Content-Type":"application/json",authToken:`${this.authToken||""}`,username:e})}predictText(e){if(this.useMockData)return r(D(e));let t=`${this.apiUrl}/predict`,i={text:e};return this.http.post(t,i,{headers:this.getAuthHeaders()})}uploadCsvForPrediction(e){if(this.useMockData)return x(e);let t=`${this.apiUrl}/bulk_predict`,i=new FormData;i.append("file",e);let a=localStorage.getItem("username")||"",l=new y({authToken:`${this.authToken||""}`,username:a});return this.http.post(t,i,{headers:l}).pipe(u(this.handleError))}getFiles(){if(this.useMockData)return k();let e=`${this.apiUrl}/files`;return this.http.get(e,{headers:this.getAuthHeaders()})}getFileDataPaginated(e,t,i){if(this.useMockData)return T(e,t,i);let a=`${this.apiUrl}/files/${e}/data?page=${t}&pageSize=${i}`;return this.http.get(a,{headers:this.getAuthHeaders()})}getFileDetails(e){if(this.useMockData)return M(e);let t=`${this.apiUrl}/files/${e}`;return this.http.get(t,{headers:this.getAuthHeaders()})}checkFileStatus(e){if(this.useMockData)return F(e);let t=`${this.apiUrl}/files/${e}/status`;return this.http.get(t,{headers:this.getAuthHeaders()})}getUserData(e){if(this.useMockData)return P();let t=`${this.apiUrl}/user-data/${e}`;return this.http.get(t,{headers:this.getAuthHeaders()}).pipe(d(i=>{let a={predictionHistory:this.transformPredictionHistory(i.prediction_history?.predictions||[]),pendingFiles:i.pending_files?.files||[],completedFiles:i.completed_files?.files||[]};return console.log("Transformed getUserData response:",a),a}),u(this.handleError))}transformPredictionHistory(e){return e.map(t=>{let i=t.sentiment_scores?.map(l=>({name:l.name.toLowerCase()==="neutral"?"Neutral":l.name,value:l.value<=1?Number((l.value*100).toFixed(2)):l.value}))||[],a=t.confidence||0;return a<=1&&(a=Number((a*100).toFixed(2))),{text:t.text,final_prediction:t.final_prediction,confidence:a,sentiment_scores:i,timestamp:new Date(t.timestamp||Date.now())}})}savePredictionToHistory(e){this.useMockData&&S(e)}getPredictionHistory(e){if(this.useMockData)return P().pipe(d(i=>({user_id:e,predictions:i.predictionHistory||[],total_predictions:i.predictionHistory?.length||0})),o(500));let t=`${this.apiUrl}/prediction-history/${e}`;return this.http.get(t,{headers:this.getAuthHeaders()}).pipe(d(i=>{let a=this.transformPredictionHistory(i.predictions||[]);return{user_id:i.user_id,predictions:a,total_predictions:i.total_predictions||a.length}}),u(this.handleError))}downloadFile(e){if(this.useMockData)return r({success:!0,message:"File downloaded successfully"}).pipe(o(800));let t=`${this.apiUrl}/files/${e}/download`;return this.http.get(t,{responseType:"blob",headers:this.getAuthHeaders()}).pipe(g(i=>{console.log("File downloaded successfully:",i)}),u(this.handleError))}static{this.\u0275fac=function(t){return new(t||n)(_(V))}}static{this.\u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();export{U as a,H as b,$ as c,C as d,K as e};
