import{a as Ae}from"./chunk-KNID46PS.js";import{a as Be}from"./chunk-HN2COD6C.js";import{b as ke,d as De,e as Ee,f as V,i as k,k as Te,l as Ie,n as Me,p as Ve,q as Le,r as Ne,s as Oe,w as ze,x as He}from"./chunk-OZYXN6VZ.js";import{a as we}from"./chunk-JJFB4X4W.js";import"./chunk-A5YS6RWQ.js";import{A as oe,Ja as me,Kb as Pe,Na as _e,O as se,Ra as ge,Wa as he,X as le,Ya as ue,bb as ve,cb as fe,db as xe,e as Y,eb as be,f as X,fb as ye,g as Z,j as ee,ka as ce,la as de,m as te,oa as pe,qb as Ce,r as ie,rb as Fe,sb as Se,t as ne,x as ae,y as re}from"./chunk-L2SPN6SO.js";import{$b as d,Ac as Q,Bc as K,Ca as G,Db as c,Dc as q,Eb as F,Fb as P,Ic as J,Ob as a,Pb as r,Qb as w,Rb as O,Sb as z,T as $,Ub as x,Zb as u,bb as o,gb as S,la as g,lc as s,ma as h,mc as D,na as N,nc as b,oa as j,oc as H,pb as W,pc as B,rc as E,sc as T,tc as I,vb as v,x as L,yc as M,z as U}from"./chunk-EBI22OCP.js";import{a as R}from"./chunk-7CGTOI24.js";var A=()=>({standalone:!0}),Re=(n,p)=>({"text-white":n,"text-muted":p});function Ue(n,p){n&1&&(a(0,"span",10),s(1,"PRO"),r())}function $e(n,p){if(n&1&&(a(0,"c-card",12)(1,"c-card-header")(2,"strong"),s(3,"Prediction Results"),r()(),a(4,"c-card-body"),w(5,"c-chart",27),r()()),n&2){let e=d(2);o(5),c("data",e.singlePredictionChartData)("options",e.pieChartOptions)}}function je(n,p){n&1&&(a(0,"div",28)(1,"p",23),s(2,"No prediction history available. Make a prediction to see results here."),r()())}function Ge(n,p){if(n&1){let e=x();a(0,"tr",32),u("click",function(){let t=g(e).$implicit,l=d(3);return h(l.showHistoryItemChart(t))}),a(1,"td",33),s(2),r(),a(3,"td")(4,"span",34),s(5),r()(),a(6,"td"),s(7),r(),a(8,"td")(9,"span",35),u("click",function(t){let l=g(e).$implicit;return d(3).showCategoriesModal(l.sentiment_scores),h(t.stopPropagation())}),s(10," View Details "),r()()()}if(n&2){let e=p.$implicit,i=d(3);P("selected-history-item",i.isSelectedHistoryItem(e)),o(),c("title",e.text),o(),b(" ",e.text," "),o(2),F("background-color",i.getCategoryColor(e.final_prediction)),o(),b(" ",e.final_prediction," "),o(2),b("",e.confidence,"%")}}function We(n,p){if(n&1&&(a(0,"div",29)(1,"table",30)(2,"thead")(3,"tr")(4,"th"),s(5,"Text"),r(),a(6,"th"),s(7,"Prediction"),r(),a(8,"th"),s(9,"Confidence"),r(),a(10,"th"),s(11,"Sentiment Scores"),r()()(),a(12,"tbody"),v(13,Ge,11,8,"tr",31),r()()()),n&2){let e=d(2);o(13),c("ngForOf",e.getPaginatedData(e.singlePredictionHistory,e.historyCurrentPage,e.historyPageSize))}}function Qe(n,p){if(n&1){let e=x();a(0,"c-page-item",41)(1,"a",38),u("click",function(){let t=g(e).$implicit,l=d(3);return h(l.changePage(t,"history"))}),s(2),r()()}if(n&2){let e=p.$implicit,i=d(3);c("active",i.historyCurrentPage===e),o(2),b(" ",e+1," ")}}function Ke(n,p){if(n&1){let e=x();a(0,"c-pagination",36)(1,"c-page-item",37)(2,"a",38),u("click",function(){g(e);let t=d(2);return h(t.changePage(0,"history"))}),s(3,"First"),r()(),a(4,"c-page-item",37)(5,"a",38),u("click",function(){g(e);let t=d(2);return h(t.changePage(t.historyCurrentPage-1,"history"))}),a(6,"span",39),s(7,"\xAB"),r()()(),v(8,Qe,3,2,"c-page-item",40),a(9,"c-page-item",37)(10,"a",38),u("click",function(){g(e);let t=d(2);return h(t.changePage(t.historyCurrentPage+1,"history"))}),a(11,"span",39),s(12,"\xBB"),r()()(),a(13,"c-page-item",37)(14,"a",38),u("click",function(){g(e);let t=d(2);return h(t.changePage(t.Math.ceil(t.singlePredictionHistory.length/t.historyPageSize)-1,"history"))}),s(15,"Last"),r()()()}if(n&2){let e=d(2);o(),c("disabled",e.historyCurrentPage===0||e.singlePredictionHistory.length<=e.historyPageSize),o(3),c("disabled",e.historyCurrentPage===0||e.singlePredictionHistory.length<=e.historyPageSize),o(4),c("ngForOf",e.getVisiblePageNumbers(e.singlePredictionHistory.length,e.historyPageSize,e.historyCurrentPage)),o(),c("disabled",e.historyCurrentPage>=e.Math.ceil(e.singlePredictionHistory.length/e.historyPageSize)-1||e.singlePredictionHistory.length<=e.historyPageSize),o(4),c("disabled",e.historyCurrentPage>=e.Math.ceil(e.singlePredictionHistory.length/e.historyPageSize)-1||e.singlePredictionHistory.length<=e.historyPageSize)}}function qe(n,p){if(n&1){let e=x();a(0,"div")(1,"c-row")(2,"c-col",11)(3,"c-card",12)(4,"c-card-header")(5,"strong"),s(6,"Single Line Input"),r()(),a(7,"c-card-body")(8,"form",13)(9,"div",14)(10,"label",15),s(11,"Provide the text to Predict"),r(),w(12,"textarea",16),r(),a(13,"div",17)(14,"button",18),u("click",function(){g(e);let t=d();return h(t.predictSingleText())}),s(15," Predict "),r()()()()(),v(16,$e,6,2,"c-card",19),r(),a(17,"c-col",11)(18,"c-card")(19,"c-card-header")(20,"strong"),s(21,"Prediction History"),r()(),a(22,"c-card-body"),v(23,je,3,0,"div",20)(24,We,14,1,"div",21),a(25,"div",22)(26,"div")(27,"small",23),s(28),r()(),v(29,Ke,16,5,"c-pagination",24),a(30,"div")(31,"select",25),I("ngModelChange",function(t){g(e);let l=d();return T(l.historyPageSize,t)||(l.historyPageSize=t),h(t)}),u("change",function(){g(e);let t=d();return h(t.onPageSizeChange("history"))}),a(32,"option",26),s(33,"5 rows"),r(),a(34,"option",26),s(35,"10 rows"),r(),a(36,"option",26),s(37,"25 rows"),r(),a(38,"option",26),s(39,"50 rows"),r()()()()()()()()()}if(n&2){let e=d();o(8),c("formGroup",e.singlePredictionForm),o(6),c("disabled",!e.singlePredictionForm.valid||e.isProcessingSinglePrediction),o(2),c("ngIf",e.lastSinglePrediction),o(7),c("ngIf",e.singlePredictionHistory.length===0),o(),c("ngIf",e.singlePredictionHistory.length>0),o(4),B(" Showing ",e.historyCurrentPage*e.historyPageSize+1," to ",e.Math.min((e.historyCurrentPage+1)*e.historyPageSize,e.singlePredictionHistory.length)," of ",e.singlePredictionHistory.length," predictions "),o(),c("ngIf",e.singlePredictionHistory.length>0),o(2),E("ngModel",e.historyPageSize),c("ngModelOptions",M(15,A)),o(),c("value",5),o(2),c("value",10),o(2),c("value",25),o(2),c("value",50)}}function Je(n,p){n&1&&(a(0,"div",60),s(1,"PRO"),r())}function Ye(n,p){if(n&1){let e=x();a(0,"c-nav-item")(1,"a",61),u("click",function(){let t=g(e).$implicit,l=d(2);return h(l.isLoadingFile?null:l.selectCsvFile(t.id))}),s(2),a(3,"button",62),u("click",function(t){let l=g(e).$implicit,m=d(2);return h(m.isLoadingFile?null:m.deleteCsvFile(l.id,t))}),s(4," \xD7 "),r()()()}if(n&2){let e=p.$implicit,i=d(2);o(),F("opacity",i.isLoadingFile?"0.7":"1")("pointer-events",i.isLoadingFile?"none":"auto"),P("disabled",i.isLoadingFile),c("active",i.activeCsvFile===e.id),o(),b(" ",e.name," "),o(),c("disabled",i.isLoadingFile)}}function Xe(n,p){if(n&1&&(a(0,"c-card-header")(1,"strong"),s(2),r()()),n&2){let e=d(3);o(2),b("",e.currentCsvFile==null?null:e.currentCsvFile.name," - Chart")}}function Ze(n,p){if(n&1&&(a(0,"div",28)(1,"div",63)(2,"span",64),s(3,"Loading chart..."),r()(),a(4,"p",65),s(5),r()()),n&2){let e=d(3);o(5),D(e.isLoadingFile?"Loading file data and chart...":"Initializing chart...")}}function et(n,p){if(n&1&&(O(0),a(1,"div",66),w(2,"c-chart",67,0),r(),z()),n&2){let e=d(4);o(),c("id","chart-container-"+e.chartKey),o(),c("data",e.currentCsvFile.chartData)("options",e.options)}}function tt(n,p){if(n&1&&(O(0),v(1,et,4,3,"ng-container",6),z()),n&2){let e=d(3);o(),c("ngIf",e.chartKey)}}function it(n,p){n&1&&(a(0,"div",28)(1,"p",68),s(2,"To Upload CSV file, make sure it has text as column name and at least one row of data"),r(),a(3,"p",68),s(4,"Select a CSV file to view chart data"),r()())}function nt(n,p){n&1&&(a(0,"div",77)(1,"div",78)(2,"span",64),s(3,"Loading page data..."),r()(),a(4,"p",79),s(5,"Loading page data..."),r()())}function at(n,p){if(n&1){let e=x();a(0,"tr")(1,"td",33),s(2),r(),a(3,"td")(4,"span",34),s(5),r()(),a(6,"td"),s(7),r(),a(8,"td")(9,"span",35),u("click",function(){let t=g(e).$implicit,l=d(6);return h(l.showCategoriesModal(t.sentiment_scores))}),s(10," View Details "),r()()()}if(n&2){let e=p.$implicit,i=d(6);o(),c("title",e.text),o(),b(" ",e.text," "),o(2),F("background-color",i.getCategoryColor(e.final_prediction)),o(),b(" ",e.final_prediction," "),o(2),b("",e.confidence,"%")}}function rt(n,p){if(n&1&&(a(0,"table",30)(1,"thead")(2,"tr")(3,"th"),s(4,"Text"),r(),a(5,"th"),s(6,"Prediction"),r(),a(7,"th"),s(8,"Confidence"),r(),a(9,"th"),s(10,"Details"),r()()(),a(11,"tbody"),v(12,at,11,6,"tr",46),r()()),n&2){let e=d(5);o(12),c("ngForOf",e.getPaginatedData(e.currentCsvFile.data,e.currentPage,e.pageSize))}}function ot(n,p){if(n&1&&(a(0,"div",75),v(1,nt,6,0,"div",52)(2,rt,13,1,"table",76),r()),n&2){let e=d(4);o(),c("ngIf",e.isLoadingPageData),o(),c("ngIf",!e.isLoadingPageData)}}function st(n,p){if(n&1){let e=x();a(0,"c-page-item",41)(1,"a",38),u("click",function(){let t=g(e).$implicit,l=d(6);return h(l.changePage(t,"bulk"))}),s(2),r()()}if(n&2){let e=p.$implicit,i=d(6);c("active",i.currentPage===e),o(2),b(" ",e+1," ")}}function lt(n,p){if(n&1){let e=x();a(0,"c-pagination",81)(1,"c-page-item",37)(2,"a",38),u("click",function(){g(e);let t=d(5);return h(t.changePage(0,"bulk"))}),s(3,"First"),r()(),a(4,"c-page-item",37)(5,"a",38),u("click",function(){g(e);let t=d(5);return h(t.changePage(t.currentPage-1,"bulk"))}),a(6,"span",39),s(7,"\xAB"),r()()(),v(8,st,3,2,"c-page-item",40),a(9,"c-page-item",37)(10,"a",38),u("click",function(){g(e);let t=d(5);return h(t.changePage(t.currentPage+1,"bulk"))}),a(11,"span",39),s(12,"\xBB"),r()()(),a(13,"c-page-item",37)(14,"a",38),u("click",function(){g(e);let t=d(5);return h(t.changePage(t.totalPages-1,"bulk"))}),s(15,"Last"),r()()()}if(n&2){let e=d(5);o(),c("disabled",e.currentPage===0),o(3),c("disabled",e.currentPage===0),o(4),c("ngForOf",e.getVisiblePageNumbers(e.currentCsvFile.data.length,e.pageSize,e.currentPage)),o(),c("disabled",e.currentPage>=e.totalPages-1),o(4),c("disabled",e.currentPage>=e.totalPages-1)}}function ct(n,p){if(n&1){let e=x();a(0,"div",22)(1,"div")(2,"small",23),s(3),r()(),v(4,lt,16,5,"c-pagination",80),a(5,"div")(6,"select",25),I("ngModelChange",function(t){g(e);let l=d(4);return T(l.pageSize,t)||(l.pageSize=t),h(t)}),u("change",function(){g(e);let t=d(4);return h(t.onPageSizeChange("bulk"))}),a(7,"option",26),s(8,"10 rows"),r(),a(9,"option",26),s(10,"25 rows"),r(),a(11,"option",26),s(12,"50 rows"),r(),a(13,"option",26),s(14,"100 rows"),r()()()()}if(n&2){let e=d(4);o(3),B(" Showing ",e.currentPage*e.pageSize+1," to ",e.Math.min((e.currentPage+1)*e.pageSize,e.currentCsvFile.data.length)," of ",e.currentCsvFile.data.length," rows "),o(),c("ngIf",e.totalPages>1),o(2),E("ngModel",e.pageSize),c("ngModelOptions",M(10,A)),o(),c("value",10),o(2),c("value",25),o(2),c("value",50),o(2),c("value",100)}}function dt(n,p){if(n&1){let e=x();a(0,"c-card")(1,"c-card-header")(2,"div",69)(3,"strong"),s(4),r(),a(5,"button",70),u("click",function(){g(e);let t=d(3);return h(t.downloadFile(t.currentCsvFile.id))}),N(),a(6,"svg",71),s(7,' class="me-1" viewBox="0 0 16 16"> '),w(8,"path",72),r(),s(9," Download CSV "),r()()(),j(),a(10,"c-card-body"),v(11,ot,3,2,"div",73)(12,ct,15,11,"div",74),r()()}if(n&2){let e=d(3);o(4),b("",e.currentCsvFile.name," - Data"),o(7),c("ngIf",!e.isLoadingFile&&e.isChartReady&&e.currentCsvFile),o(),c("ngIf",!e.isLoadingPageData&&(e.currentCsvFile==null||e.currentCsvFile.data==null?null:e.currentCsvFile.data.length))}}function pt(n,p){if(n&1&&(a(0,"c-card-body")(1,"c-card",12),v(2,Xe,3,1,"c-card-header",6),a(3,"c-card-body"),v(4,Ze,6,1,"div",20)(5,tt,2,1,"ng-container",6)(6,it,5,0,"div",20),r()(),v(7,dt,13,3,"c-card",6),r()),n&2){let e=d(2);o(2),c("ngIf",!e.isLoadingFile&&e.isChartReady&&(e.currentCsvFile==null?null:e.currentCsvFile.chartData)),o(2),c("ngIf",e.isLoadingFile||!e.isChartReady),o(),c("ngIf",!e.isLoadingFile&&e.isChartReady&&(e.currentCsvFile==null?null:e.currentCsvFile.chartData)),o(),c("ngIf",!e.isLoadingFile&&e.isChartReady&&e.currentCsvFile&&!e.currentCsvFile.chartData),o(),c("ngIf",!e.isLoadingFile&&e.isChartReady&&(e.currentCsvFile==null||e.currentCsvFile.data==null?null:e.currentCsvFile.data.length))}}function mt(n,p){n&1&&(a(0,"c-card-body",28)(1,"p",23),s(2,'No files selected. Please select a file from "My Files".'),r()())}function _t(n,p){if(n&1&&(a(0,"p",82),s(1),r()),n&2){let e,i=d(2);o(),b(" Selected: ",(e=i.fileUploadForm.get("fileName"))==null?null:e.value," ")}}function gt(n,p){n&1&&(a(0,"div",77)(1,"p",68),s(2,"No pending files"),r()())}function ht(n,p){if(n&1&&(a(0,"li",86)(1,"div",87)(2,"span",64),s(3,"Processing..."),r()(),a(4,"span",88),s(5),r(),a(6,"small",89),s(7,"processing..."),r()()),n&2){let e=p.$implicit;o(5),D(e.name)}}function ut(n,p){if(n&1&&(a(0,"div",83)(1,"ul",84),v(2,ht,8,1,"li",85),r()()),n&2){let e=d(2);o(2),c("ngForOf",e.pendingFiles)}}function vt(n,p){if(n&1&&(a(0,"div",90)(1,"small",23),s(2),r()()),n&2){let e=d(2);o(2),b("Showing ",e.pendingFiles.length," files")}}function ft(n,p){if(n&1){let e=x();a(0,"button",91),u("click",function(){g(e);let t=d(2);return h(t.clearFileSearch())}),s(1," \xD7 "),r()}if(n&2){let e=d(2);c("disabled",e.isLoadingFile)}}function xt(n,p){n&1&&(a(0,"div",77)(1,"div",78)(2,"span",64),s(3,"Loading file..."),r()(),a(4,"p",79),s(5,"Loading file data and chart..."),r()())}function bt(n,p){if(n&1&&(a(0,"div",77)(1,"p",68),s(2),r()()),n&2){let e=d(2);o(2),b(" ",e.myFiles.length===0?"No files available":"No matching files"," ")}}function yt(n,p){n&1&&(a(0,"div",99)(1,"span",64),s(2,"Loading..."),r()())}function Ct(n,p){if(n&1){let e=x();a(0,"button",100),u("click",function(t){g(e);let l=d().$implicit,m=d(3);return h(m.deleteMyFile(l.id,t))}),N(),w(1,"svg",101),r()}if(n&2){let e=d(4);c("disabled",e.isLoadingFile)}}function Ft(n,p){if(n&1){let e=x();a(0,"li",94),u("click",function(){let t=g(e).$implicit,l=d(3);return h(!l.disableOtherMyFiles||l.activeCsvFile===t.id?l.loadFileToVisualization(t.id):null)}),a(1,"div",95)(2,"span",88),s(3),r(),a(4,"small",96),s(5),K(6,"date"),r(),v(7,yt,3,0,"div",97)(8,Ct,2,1,"button",98),r()()}if(n&2){let e=p.$implicit,i=d(3);F("opacity",i.disableOtherMyFiles&&i.activeCsvFile!==e.id?"0.5":"1")("pointer-events",i.disableOtherMyFiles&&i.activeCsvFile!==e.id?"none":"auto"),P("disabled",i.disableOtherMyFiles&&i.activeCsvFile!==e.id),c("active",i.activeCsvFile===e.id),o(3),D(i.cleanFileName(e.name)),o(),c("ngClass",Q(15,Re,i.activeCsvFile===e.id,i.activeCsvFile!==e.id)),o(),b(" ",q(6,12,e.timestamp,"short")," "),o(2),c("ngIf",i.isLoadingFile&&i.activeCsvFile===e.id),o(),c("ngIf",!i.isLoadingFile||i.activeCsvFile!==e.id)}}function St(n,p){if(n&1&&(a(0,"div",92)(1,"ul",84),v(2,Ft,9,18,"li",93),r()()),n&2){let e=d(2);o(2),c("ngForOf",e.filteredFiles)}}function Pt(n,p){if(n&1&&(a(0,"div",90)(1,"small",23),s(2),r()()),n&2){let e=d(2);o(2),H(" Showing ",e.filteredFiles.length," of ",e.myFiles.length," files ")}}function wt(n,p){if(n&1&&(a(0,"div",90)(1,"small",23),s(2),r()()),n&2){let e=d(2);o(2),H(" Found ",e.filteredFiles.length," ",e.filteredFiles.length===1?"match":"matches"," ")}}function kt(n,p){if(n&1){let e=x();a(0,"div",102)(1,"div",103)(2,"h4"),s(3,"Upgrade to Pro to Access Bulk Prediction"),r(),a(4,"p"),s(5,"Process entire CSV files at once with our premium bulk prediction feature."),r(),a(6,"ul",104)(7,"li"),s(8,"Upload & analyze full datasets"),r(),a(9,"li"),s(10,"Get batch results instantly"),r(),a(11,"li"),s(12,"Export complete result sets"),r(),a(13,"li"),s(14,"Track processing history"),r()(),a(15,"button",105),u("click",function(){g(e);let t=d(2);return h(t.navigateToSubscription())}),s(16," Upgrade to Pro "),r(),a(17,"div",106)(18,"small"),s(19," If the button doesn't work, "),a(20,"a",107),s(21,"click here"),r(),s(22," instead. "),r()()()()}}function Dt(n,p){if(n&1){let e=x();a(0,"div",42),v(1,Je,2,0,"div",43),a(2,"div")(3,"c-row")(4,"c-col",44)(5,"c-card")(6,"c-card-header")(7,"c-nav",45),v(8,Ye,5,9,"c-nav-item",46),r()(),v(9,pt,8,5,"c-card-body",6)(10,mt,3,0,"c-card-body",20),r()(),a(11,"c-col",47)(12,"c-card",12)(13,"c-card-header")(14,"strong"),s(15,"Upload CSV File"),r()(),a(16,"c-card-body")(17,"form",13)(18,"div",14)(19,"label",48),s(20,"Choose CSV file"),r(),a(21,"input",49),u("change",function(t){g(e);let l=d();return h(l.onFileSelected(t))}),r(),v(22,_t,2,1,"p",50),r(),a(23,"div",51)(24,"button",18),u("click",function(){g(e);let t=d();return h(t.predictCsvFile())}),s(25," Predict "),r()()()()(),a(26,"c-card",12)(27,"c-card-header")(28,"strong"),s(29,"Pending Files"),r()(),a(30,"c-card-body"),v(31,gt,3,0,"div",52)(32,ut,3,1,"div",53)(33,vt,3,1,"div",54),r()(),a(34,"c-card")(35,"c-card-header")(36,"strong"),s(37,"My Files"),r()(),a(38,"c-card-body")(39,"div",14)(40,"div",55)(41,"input",56),I("ngModelChange",function(t){g(e);let l=d();return T(l.fileSearchQuery,t)||(l.fileSearchQuery=t),h(t)}),u("input",function(){g(e);let t=d();return h(t.filterFiles())}),r(),v(42,ft,2,1,"button",57),r()(),v(43,xt,6,0,"div",52)(44,bt,3,1,"div",52)(45,St,3,1,"div",58)(46,Pt,3,2,"div",54)(47,wt,3,2,"div",54),r()()()()(),v(48,kt,23,0,"div",59),r()}if(n&2){let e,i,t=d();o(),c("ngIf",!t.hasBulkAccess),o(),P("premium-content-blur",!t.hasBulkAccess),o(6),c("ngForOf",t.csvFiles),o(),c("ngIf",t.currentCsvFile),o(),c("ngIf",!t.currentCsvFile),o(7),c("formGroup",t.fileUploadForm),o(5),c("ngIf",(e=t.fileUploadForm.get("fileName"))==null?null:e.value),o(2),c("disabled",!((i=t.fileUploadForm.get("csvFile"))!=null&&i.value)),o(7),c("ngIf",t.pendingFiles.length===0),o(),c("ngIf",t.pendingFiles.length>0),o(),c("ngIf",t.pendingFiles.length>5),o(8),E("ngModel",t.fileSearchQuery),c("ngModelOptions",M(22,A))("disabled",t.isLoadingFile),o(),c("ngIf",t.fileSearchQuery),o(),c("ngIf",t.isLoadingFile),o(),c("ngIf",t.filteredFiles.length===0&&!t.isLoadingFile),o(),c("ngIf",t.filteredFiles.length>0),o(),c("ngIf",!t.fileSearchQuery&&t.myFiles.length>5&&!t.isLoadingFile),o(),c("ngIf",t.fileSearchQuery&&t.filteredFiles.length>0&&!t.isLoadingFile),o(),c("ngIf",!t.hasBulkAccess)}}function Et(n,p){if(n&1&&(a(0,"tr")(1,"td")(2,"span",34),s(3),r()(),a(4,"td"),s(5),r()()),n&2){let e=p.$implicit,i=d(2);o(2),F("background-color",i.getCategoryColor(e.name)),o(),b(" ",e.name," "),o(2),b("",e.value,"%")}}function Tt(n,p){if(n&1){let e=x();a(0,"c-card",108)(1,"c-card-header",69)(2,"strong"),s(3,"Category Details"),r(),a(4,"button",109),u("click",function(){g(e);let t=d();return h(t.showCategoryModal=!1)}),s(5," \xD7 "),r()(),a(6,"c-card-body")(7,"table",110)(8,"thead")(9,"tr")(10,"th"),s(11,"Category"),r(),a(12,"th"),s(13,"Confidence"),r()()(),a(14,"tbody"),v(15,Et,6,4,"tr",46),r()()()()}if(n&2){let e=d();o(15),c("ngForOf",e.selectedCategories)}}function It(n,p){if(n&1){let e=x();a(0,"div",111),u("click",function(){g(e);let t=d();return h(t.showCategoryModal=!1)}),r()}}var Yt=(()=>{class n{constructor(e,i,t,l,m,_){this.http=e,this.predictionService=i,this.subscriptionService=t,this.cdr=l,this.route=m,this.router=_,this._cachedChartData=null,this._lastPredictionTimeStamp=new Date,this.selectedHistoryItem=null,this.fileStatusSubscriptions=new Map,this.activeTab="single",this.activeCsvFile="",this.mainChart={type:"line"},this.mainChartRef=G(void 0),this.chart=[],this.fileSearchQuery="",this.filteredFiles=[],this.pageSize=10,this.currentPage=0,this.Math=Math,this.isProcessingSinglePrediction=!1,this.historyPageSize=5,this.historyCurrentPage=0,this.selectedCategories=[],this.showCategoryModal=!1,this.isLoadingPageData=!1,this.currentFileData=[],this.currentFilePagination=null,this.lastSinglePrediction=null,this.pieChartOptions={maintainAspectRatio:!1,plugins:{legend:{position:"right"}}},this.options={maintainAspectRatio:!1},this.pendingFiles=[],this.myFiles=[],this.csvFiles=[],this.singlePredictionHistory=[],this.isLoadingFile=!1,this.disableOtherMyFiles=!1,this.chartInitializationDelay=1500,this.isChartReady=!1,this.chartKey="",this.singlePredictionForm=new V({textInput:new k("",{nonNullable:!0})}),this.predictionForm=new V({text:new k("",{nonNullable:!0})}),this.isPredicting=!1,this.fileUploadForm=new V({csvFile:new k(null),fileName:new k("")}),this.chartRadarData={labels:["Positive","Slightly Positive","Neutral","Slightly Negative","Negative"],datasets:[{label:"Sentiment Distribution",backgroundColor:"rgba(51, 153, 255, 0.2)",borderColor:"rgba(51, 153, 255, 1)",pointBackgroundColor:"rgba(51, 153, 255, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(51, 153, 255, 1)",data:[92,65,30,15,8]},{label:"Threshold",backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",pointBackgroundColor:"rgba(255, 99, 132, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(255, 99, 132, 1)",data:[50,50,50,50,50]}]}}resetLoadingState(){this.isLoadingFile=!1,this.disableOtherMyFiles=!1,this.isChartReady=!0,this.cdr.detectChanges()}get totalPages(){if(this.activeTab==="bulk"){let e=this.currentCsvFile?.data?.length||0;return Math.ceil(e/this.pageSize)}return Math.ceil(this.singlePredictionHistory.length/this.historyPageSize)}changePage(e,i){i==="bulk"?this.currentPage=e:this.historyCurrentPage=e}ngOnInit(){this.route.data.subscribe(i=>{i.activeTab&&(this.activeTab=i.activeTab)}),this.router.events.pipe(U(i=>i instanceof ae)).subscribe(()=>{let i=this.router.url;i.includes("/dashboard/bulk")?this.activeTab="bulk":i.includes("/dashboard/single")&&(this.activeTab="single"),this.cdr.detectChanges()});let e=localStorage.getItem("userId")||this.extractUserIdFromToken()||"default-user-id";this.subscriptionService.checkBackendSubscriptionStatus(),this.predictionService.getUserData(e).subscribe({next:i=>{this.singlePredictionHistory=i.predictionHistory||[],this.singlePredictionHistory.length>0&&(this.lastSinglePrediction=R({},this.singlePredictionHistory[0]),this.selectedHistoryItem=this.singlePredictionHistory[0]),this.pendingFiles=i.pendingFiles||[],this.myFiles=i.completedFiles||[],this.filteredFiles=this.myFiles,this.startPeriodicFileCheck()},error:i=>{console.error("Error loading user data:",i)}})}showHistoryItemChart(e){this.selectedHistoryItem=e,this.lastSinglePrediction={text:e.text,final_prediction:e.final_prediction,confidence:e.confidence,sentiment_scores:e.sentiment_scores,timestamp:e.timestamp},this._cachedChartData=null}isSelectedHistoryItem(e){return this.selectedHistoryItem&&this.selectedHistoryItem.timestamp===e.timestamp}filterFiles(){if(!this.fileSearchQuery){this.filteredFiles=this.myFiles;return}let e=this.fileSearchQuery.toLowerCase();this.filteredFiles=this.myFiles.filter(i=>i.name.toLowerCase().includes(e))}clearFileSearch(){this.fileSearchQuery="",this.filterFiles()}selectCsvFile(e){this.isLoadingFile||!this.isChartReady&&this.activeCsvFile||(this.isLoadingFile=!0,this.disableOtherMyFiles=!0,this.isChartReady=!1,this.activeCsvFile=e,this.currentPage=0,this.chartKey=`${e}-${Date.now()}`,this.cdr.detectChanges(),setTimeout(()=>{this.isLoadingFile=!1,this.disableOtherMyFiles=!1,this.isChartReady=!0,this.cdr.detectChanges()},600))}get currentCsvFile(){return this.csvFiles.find(e=>e.id===this.activeCsvFile)||{id:"",name:"",timestamp:new Date,data:[]}}predictSingleText(){let e=this.singlePredictionForm.get("textInput")?.value;!e||e.trim()===""||(this.isProcessingSinglePrediction=!0,this.predictionService.predictText(e).subscribe({next:i=>{try{let t=[];Array.isArray(i.sentiment_scores)?t=i.sentiment_scores.map(f=>{let y=f.name;f.name.toLowerCase()==="neutral"&&(y="Neutral");let C=f.value;return C<=1&&(C=Number((C*100).toFixed(2))),{name:y,value:C}}):i.sentiment_scores&&typeof i.sentiment_scores=="object"&&(t=Object.entries(i.sentiment_scores).map(([f,y])=>({name:f.toLowerCase()==="neutral"?"Neutral":f,value:Number(y)<=1?Number((Number(y)*100).toFixed(2)):Number(y)})));let l=i.confidence||0;l<=1&&(l=Number((l*100).toFixed(2))),!l&&t.length>0&&(l=Math.max(...t.map(f=>f.value)));let m={text:e,final_prediction:i.final_prediction,confidence:l,sentiment_scores:t,timestamp:new Date};this.predictionService.savePredictionToHistory(m);let _=localStorage.getItem("userId")||this.extractUserIdFromToken()||"default-user-id";this.predictionService.getPredictionHistory(_).subscribe({next:f=>{f&&f.predictions&&(this.singlePredictionHistory=f.predictions),this.singlePredictionHistory.length>0&&(this.lastSinglePrediction=this.singlePredictionHistory[0],this.selectedHistoryItem=this.singlePredictionHistory[0]),this.historyCurrentPage=0,this._cachedChartData=null,this.singlePredictionForm.reset(),this.cdr.detectChanges()},error:f=>{console.error("Error fetching updated prediction history:",f),this.singlePredictionHistory.unshift(m),this.lastSinglePrediction=m,this.selectedHistoryItem=m,this.historyCurrentPage=0,this._cachedChartData=null,this.singlePredictionForm.reset(),this.cdr.detectChanges(),alert("Prediction saved, but failed to refresh history. Please refresh the page to see updated history.")}})}catch(t){console.error("Error processing prediction result:",t),alert("Failed to process prediction result. Please try again."),this.isProcessingSinglePrediction=!1}},error:i=>{console.error("[DEBUG] Error in predictSingleText:",i),this.isProcessingSinglePrediction=!1,i.status===0?alert("Network error. Please check your internet connection and try again."):i.status===429?alert("Too many requests. Please wait a moment and try again."):alert(`Failed to process prediction: ${i.message||"Unknown error"}`)},complete:()=>{this.isProcessingSinglePrediction=!1}}))}deleteMyFile(e,i){i.stopPropagation();let t=this.myFiles.find(m=>m.id===e)?.name||"this file";if(!confirm(`Are you sure you want to delete "${this.cleanFileName(t)}"? This action cannot be undone.`))return;let l=localStorage.getItem("userId")||this.extractUserIdFromToken()||"default-user-id";this.predictionService.deleteFile(l,e).subscribe({next:m=>{this.myFiles=this.myFiles.filter(_=>_.id!==e),this.filterFiles(),this.csvFiles=this.csvFiles.filter(_=>_.id!==e),e===this.activeCsvFile&&(this.activeCsvFile="",this.currentPage=0),this.cdr.detectChanges(),console.log("File deleted successfully:",m.message)},error:m=>{console.error("Error deleting file:",m);let _="Failed to delete file. ";m.error&&m.error.message?_+=m.error.message:m.status===404?_+="File not found on server.":_+="Please try again.",alert(_)}})}extractUserIdFromToken(){try{let e=localStorage.getItem("authToken");if(!e)return null;let i=JSON.parse(atob(e.split(".")[1]));return i.user_id||i.id||null}catch(e){return console.error("Error extracting user ID from token:",e),null}}deleteCsvFile(e,i){i.stopPropagation();let t=this.csvFiles.findIndex(l=>l.id===e);t!==-1&&(this.csvFiles.splice(t,1),e===this.activeCsvFile&&this.csvFiles.length>0?this.activeCsvFile=this.csvFiles[0].id:this.csvFiles.length===0&&(this.activeCsvFile=""))}onFileSelected(e){let i=e.target,t=i?.files?.[0];i.value="",t&&this.fileUploadForm.patchValue({fileName:t.name,csvFile:t})}predictCsvFile(){let e=this.fileUploadForm.get("csvFile")?.value;if(!e){alert("Please select a file first");return}this.predictionService.uploadCsvForPrediction(e).subscribe({next:i=>{if(!i){alert("Failed to upload file. Please try again.");return}this.pendingFiles.findIndex(l=>l.id===i.fileId)===-1&&this.pendingFiles.push({id:i.fileId,name:i.name||e.name,timestamp:new Date(i.timestamp)||new Date}),this.fileUploadForm.reset(),this.pollFileStatus(i.fileId)},error:i=>{console.error("Error uploading file:",i),alert("Failed to upload file. Please try again.")}})}loadFileToVisualization(e){if(this.isLoadingFile)return;if(this.csvFiles.findIndex(l=>l.id===e)!==-1){this.activeCsvFile=e,this.currentPage=0,this.chartKey=`${e}-${Date.now()}`;return}this.isLoadingFile=!0,this.disableOtherMyFiles=!0,this.isChartReady=!1;let t=localStorage.getItem("userId")||this.extractUserIdFromToken()||"default-user-id";this.predictionService.getFileDetails(t,e).subscribe({next:l=>{try{let m=this.transformFileDetailsData(l),_=this.generateChartDataFromFileDetails(l),f={id:l.file_id||e,name:this.cleanFileName(l.filename||`File ${e}`),timestamp:new Date,data:m,chartData:_};this.csvFiles.push(f),this.activeCsvFile=e,this.currentPage=0,this.chartKey=`${e}-${Date.now()}`,setTimeout(()=>{this.isLoadingFile=!1,this.disableOtherMyFiles=!1,this.isChartReady=!0,this.cdr.detectChanges()},800)}catch(m){console.error("Error processing file details:",m),this.resetLoadingState(),alert("Failed to process file details. Please try again.")}},error:l=>{console.error("Error loading file details:",l),this.resetLoadingState(),alert("Failed to load file details. Please try again.")}})}transformFileDetailsData(e){return!e||!e.data||!Array.isArray(e.data)?[]:e.data.map(i=>({text:i.text,final_prediction:i.final_prediction,confidence:Math.round((i.confidence||0)*100),sentiment_scores:[{name:"Negative",value:Math.round((i.Negative||0)*100)},{name:"Slightly Negative",value:Math.round((i["Slightly Negative"]||0)*100)},{name:"Neutral",value:Math.round((i.neutral||0)*100)},{name:"Slightly Positive",value:Math.round((i["Slightly Positive"]||0)*100)},{name:"Positive",value:Math.round((i.Positive||0)*100)}]}))}get singlePredictionChartData(){if(!this.lastSinglePrediction)return{labels:[],datasets:[{data:[],backgroundColor:[]}]};if(this._cachedChartData&&this._lastPredictionTimeStamp===this.lastSinglePrediction.timestamp)return this._cachedChartData;let e={labels:this.lastSinglePrediction?.sentiment_scores?.map(i=>i.name)||[],datasets:[{data:this.lastSinglePrediction?.sentiment_scores?.map(i=>i.value)||[],backgroundColor:["rgba(25, 135, 84, 0.8)","rgba(13, 202, 240, 0.8)","rgba(108, 117, 125, 0.8)","rgba(255, 193, 7, 0.8)","rgba(220, 53, 69, 0.8)"],borderWidth:1}]};return this._cachedChartData=e,this._lastPredictionTimeStamp=this.lastSinglePrediction.timestamp||new Date,e}getPaginatedData(e,i,t){if(!e||!e.length)return[];let l=i*t,m=l+t;return e.slice(l,m)}get totalItems(){return this.activeTab==="bulk"?this.currentCsvFile?.data?.length||0:this.singlePredictionHistory?.length||0}getVisiblePageNumbers(e,i,t){let l=Math.ceil(e/i),m=[];if(l<=7)for(let _=0;_<l;_++)m.push(_);else{m.push(0),t>2&&m.push(-1);let _=Math.max(1,t-1),f=Math.min(l-2,t+1);for(let y=_;y<=f;y++)m.push(y);t<l-3&&m.push(-1),l>1&&m.push(l-1)}return m}onPageSizeChange(e){e==="bulk"?this.currentPage=0:this.historyCurrentPage=0}getCategoryColor(e){return{Negative:"rgba(220, 53, 69, 0.8)","Slightly Negative":"rgba(255, 193, 7, 0.8)",Neutral:"rgba(108, 117, 125, 0.8)","Slightly Positive":"rgba(13, 202, 240, 0.8)",Positive:"rgba(25, 135, 84, 0.8)"}[e]||"gray"}showCategoriesModal(e){this.selectedCategories=e,this.showCategoryModal=!0,setTimeout(()=>{this.showCategoryModal=!1},3e3)}pollFileStatus(e){this.fileStatusSubscriptions.has(e)&&this.fileStatusSubscriptions.get(e)?.unsubscribe();let i=!1,t=L(3e3).pipe($(()=>!i)).subscribe({next:()=>{let l=localStorage.getItem("userId")||this.extractUserIdFromToken()||"default-user-id";this.predictionService.getUserData(l).subscribe({next:m=>{if(m.pendingFiles.find(y=>y.id===e))return;let f=m.completedFiles.find(y=>y.id===e);f?(i=!0,this.pendingFiles=this.pendingFiles.filter(C=>C.id!==e),this.myFiles.find(C=>C.id===e)||(this.myFiles.push({id:f.id,name:f.name,timestamp:new Date(f.timestamp),data:[]}),this.filterFiles()),this.fileStatusSubscriptions.has(e)&&(this.fileStatusSubscriptions.get(e)?.unsubscribe(),this.fileStatusSubscriptions.delete(e))):(i=!0,this.pendingFiles=this.pendingFiles.filter(y=>y.id!==e),alert("Processing of file failed: File not found"),this.fileStatusSubscriptions.has(e)&&(this.fileStatusSubscriptions.get(e)?.unsubscribe(),this.fileStatusSubscriptions.delete(e)))},error:m=>{console.error("Error checking file status via getUserData:",m),i=!0,this.fileStatusSubscriptions.has(e)&&(this.fileStatusSubscriptions.get(e)?.unsubscribe(),this.fileStatusSubscriptions.delete(e))}})}});this.fileStatusSubscriptions.set(e,t)}startPeriodicFileCheck(){L(3e4).subscribe(()=>{this.pendingFiles.length>0&&this.pendingFiles.forEach(e=>{this.fileStatusSubscriptions.has(e.id)||this.pollFileStatus(e.id)})})}refreshFilesList(){this.predictionService.getFiles().subscribe({next:e=>{if(!e){console.error("Received null response from getFiles()");return}let i=new Set(this.pendingFiles.map(t=>t.id));if(e.pendingFiles&&Array.isArray(e.pendingFiles)){e.pendingFiles.forEach(l=>{i.has(l.id)||this.pendingFiles.push({id:l.id,name:l.name,timestamp:new Date(l.timestamp)})});let t=new Set(e.pendingFiles.map(l=>l.id));this.pendingFiles=this.pendingFiles.filter(l=>t.has(l.id))}e.completedFiles&&Array.isArray(e.completedFiles)&&(this.myFiles=e.completedFiles.map(t=>({id:t.id,name:t.name,status:"completed",timestamp:new Date(t.timestamp),isDefault:!1,data:[],chartData:void 0}))),this.filterFiles(),this.cdr.detectChanges()},error:e=>{console.error("Error fetching files:",e),this.cdr.detectChanges()}})}generateChartDataFromFileDetails(e){if(!e||!e.data||!Array.isArray(e.data))return{labels:[],datasets:[{label:"No Data Available",data:[],backgroundColor:[]}]};let i={Negative:0,"Slightly Negative":0,Neutral:0,"Slightly Positive":0,Positive:0},t={Negative:0,"Slightly Negative":0,Neutral:0,"Slightly Positive":0,Positive:0};e.data.forEach(_=>{let f=_.final_prediction;f&&i.hasOwnProperty(f)&&i[f]++,t.Negative+=_.Negative||0,t["Slightly Negative"]+=_["Slightly Negative"]||0,t.Neutral+=_.neutral||0,t["Slightly Positive"]+=_["Slightly Positive"]||0,t.Positive+=_.Positive||0});let l=e.data.length,m=Object.keys(t).map(_=>Math.round(t[_]/l*100));return{labels:Object.keys(i),datasets:[{label:"Average Sentiment Distribution",data:m,backgroundColor:["rgba(220, 53, 69, 0.8)","rgba(255, 193, 7, 0.8)","rgba(108, 117, 125, 0.8)","rgba(13, 202, 240, 0.8)","rgba(25, 135, 84, 0.8)"],borderColor:"rgba(179,181,198,1)",borderWidth:1}]}}cleanFileName(e){return e.replace(/_completed\.csv$/,".csv").replace(/^\d{8}_\d{6}_/,"").replace(/\.csv$/,"")}generateChartDataFromApiResponse(e){if(!e||!e.data)return{labels:[],datasets:[{label:"No Data Available",backgroundColor:[],borderColor:"rgba(179,181,198,1)",data:[]}]};let i={Positive:0,"Slightly Positive":0,Neutral:0,"Slightly Negative":0,Negative:0};return Array.isArray(e.data)&&e.data.forEach(t=>{let l=t?.Prediction;l&&Object.prototype.hasOwnProperty.call(i,l)&&i[l]++}),{labels:Object.keys(i),datasets:[{label:"Sentiment Distribution",backgroundColor:["rgba(25, 135, 84, 0.8)","rgba(13, 202, 240, 0.8)","rgba(108, 117, 125, 0.8)","rgba(255, 193, 7, 0.8)","rgba(220, 53, 69, 0.8)"],borderColor:"rgba(179,181,198,1)",data:Object.values(i)}]}}ngOnDestroy(){this.fileStatusSubscriptions.forEach(e=>e.unsubscribe()),this.fileStatusSubscriptions.clear()}navigateToTab(e){this.router.navigate(["/dashboard",e])}navigateToSubscription(){this.router.navigate(["/subscription"]).then(e=>{e||(console.error("Navigation failed, trying window.location"),window.location.href="/subscription")}).catch(e=>{console.error("Navigation error:",e)})}get hasBulkAccess(){return this.subscriptionService.hasBulkAccess()}switchTab(e){this.isLoadingFile||(this.isChartReady=!1,this.activeTab=e,this.router.navigate(["/dashboard",e],{skipLocationChange:!1,replaceUrl:!1}),setTimeout(()=>{this.isChartReady=!0,this.cdr.detectChanges()},300))}downloadFile(e){let i=localStorage.getItem("userId")||this.extractUserIdFromToken()||"default-user-id";this.predictionService.downloadFile(i,e).subscribe({next:t=>{let l=window.URL.createObjectURL(t),m=document.createElement("a");m.href=l;let _=this.cleanFileName(e);m.download=`predictions_${_}.csv`,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(l)},error:t=>{console.error("Error downloading file:",t);let l="Failed to download file. ";t.error&&t.error.message?l+=t.error.message:t.status===404?l+="File not found on server.":l+="Please try again.",alert(l)}})}static{this.\u0275fac=function(i){return new(i||n)(S(ie),S(we),S(Ae),S(J),S(re),S(oe))}}static{this.\u0275cmp=W({type:n,selectors:[["app-dashboard"]],decls:18,vars:19,consts:[["radarChart",""],[1,"dashboard-container"],[1,"mx-auto",2,"max-width","90%","width","90%"],["layout","justified","variant","pills"],["cNavLink","",2,"cursor","pointer",3,"click","active"],["class","badge bg-secondary ms-1",4,"ngIf"],[4,"ngIf"],["class","premium-content-container",4,"ngIf"],["class","position-fixed","style","top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1050; max-width: 500px;",4,"ngIf"],["class","position-fixed top-0 start-0 w-100 h-100","style","background-color: rgba(0,0,0,0.5); z-index: 1040;",3,"click",4,"ngIf"],[1,"badge","bg-secondary","ms-1"],["xs","12","md","6"],[1,"mb-4"],["cForm","",3,"formGroup"],[1,"mb-3"],["cLabel","","for","exampleFormControlTextarea1"],["cFormControl","","id","exampleFormControlTextarea1","rows","3","formControlName","textInput"],[1,"d-flex","justify-content-end"],["cButton","","color","primary","type","button",3,"click","disabled"],["class","mb-4",4,"ngIf"],["class","text-center py-5",4,"ngIf"],["class","table-responsive","style","max-height: 600px; overflow-y: auto;",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-3"],[1,"text-muted"],["aria-label","History pages","size","sm",4,"ngIf"],["cSelect","","size","sm",2,"width","auto",3,"ngModelChange","change","ngModel","ngModelOptions"],[3,"value"],["type","pie",3,"data","options"],[1,"text-center","py-5"],[1,"table-responsive",2,"max-height","600px","overflow-y","auto"],["cTable","","hover",""],["style","cursor: pointer;",3,"selected-history-item","click",4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],[2,"max-width","200px","white-space","nowrap","overflow","hidden","text-overflow","ellipsis",3,"title"],[1,"badge"],[1,"badge","rounded-pill","bg-primary",2,"cursor","pointer",3,"click"],["aria-label","History pages","size","sm"],[3,"disabled"],["cPageLink","",2,"cursor","pointer",3,"click"],["aria-hidden","true"],[3,"active",4,"ngFor","ngForOf"],[3,"active"],[1,"premium-content-container"],["class","premium-tag",4,"ngIf"],["md","8"],["variant","tabs"],[4,"ngFor","ngForOf"],["md","4"],["cLabel","","for","formFile"],["cFormControl","","type","file","id","formFile","accept",".csv",3,"change"],["class","mt-2 mb-0",4,"ngIf"],[1,"d-grid"],["class","text-center py-3",4,"ngIf"],["style","max-height: 200px; overflow-y: auto;",4,"ngIf"],["class","text-end mt-2",4,"ngIf"],[1,"input-group"],["cFormControl","","type","text","placeholder","Search files...",3,"ngModelChange","input","ngModel","ngModelOptions","disabled"],["cButton","","color","secondary","variant","outline","type","button",3,"disabled","click",4,"ngIf"],["style","max-height: 240px; overflow-y: auto;",4,"ngIf"],["class","premium-overlay",4,"ngIf"],[1,"premium-tag"],["cNavLink","",1,"d-flex","align-items-center",3,"click","active"],["cButton","","color","danger","size","sm","variant","ghost",1,"ms-2","p-0","px-1",2,"line-height","1",3,"click","disabled"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[3,"id"],["type","radar",3,"data","options"],[1,"text-muted","mb-0"],[1,"d-flex","justify-content-between","align-items-center"],["cButton","","color","success","size","sm","variant","outline",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor",2,"transform","scaleY(-1)"],["d","M8 0a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8zm0 2.5a5.5 5.5 0 1 1 0 11 5.5 5.5 0 0 1 0-11zM6 8v3h4V8h2l-4-4-4 4h2z"],["class","table-responsive",4,"ngIf"],["class","d-flex justify-content-between align-items-center mt-3",4,"ngIf"],[1,"table-responsive"],["cTable","","hover","",4,"ngIf"],[1,"text-center","py-3"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"mt-2","text-muted","small"],["aria-label","Data table pages","size","sm",4,"ngIf"],["aria-label","Data table pages","size","sm"],[1,"mt-2","mb-0"],[2,"max-height","200px","overflow-y","auto"],["cListGroup",""],["cListGroupItem","","class","d-flex align-items-center",4,"ngFor","ngForOf"],["cListGroupItem","",1,"d-flex","align-items-center"],["role","status",1,"spinner-border","spinner-border-sm","text-primary","me-2"],[1,"text-truncate"],[1,"text-muted","ms-auto"],[1,"text-end","mt-2"],["cButton","","color","secondary","variant","outline","type","button",3,"click","disabled"],[2,"max-height","240px","overflow-y","auto"],["cListGroupItem","","style","cursor: pointer;",3,"active","disabled","opacity","pointer-events","click",4,"ngFor","ngForOf"],["cListGroupItem","",2,"cursor","pointer",3,"click","active"],[1,"d-flex","align-items-center"],[1,"ms-auto",3,"ngClass"],["class","spinner-border spinner-border-sm text-primary ms-2","role","status",4,"ngIf"],["cButton","","color","danger","size","sm","variant","ghost","class","ms-2 p-1","style","line-height: 1; min-width: 24px; height: 24px;",3,"disabled","click",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","text-primary","ms-2"],["cButton","","color","danger","size","sm","variant","ghost",1,"ms-2","p-1",2,"line-height","1","min-width","24px","height","24px",3,"click","disabled"],["cIcon","","name","cilTrash","size","sm"],[1,"premium-overlay"],[1,"premium-message"],[1,"text-start","mb-4"],["cButton","","color","primary","size","lg",1,"px-4",3,"click"],[1,"mt-3"],["href","/subscription"],[1,"position-fixed",2,"top","50%","left","50%","transform","translate(-50%, -50%)","z-index","1050","max-width","500px"],["cButton","","color","secondary","variant","ghost","size","sm",3,"click"],["cTable","","striped",""],[1,"position-fixed","top-0","start-0","w-100","h-100",2,"background-color","rgba(0,0,0,0.5)","z-index","1040",3,"click"]],template:function(i,t){i&1&&(a(0,"div",1)(1,"c-card",2)(2,"c-card-body")(3,"c-card")(4,"c-card-header")(5,"c-nav",3)(6,"c-nav-item")(7,"a",4),u("click",function(){return t.isLoadingFile?null:t.switchTab("single")}),s(8," Single Line Prediction "),r()(),a(9,"c-nav-item")(10,"a",4),u("click",function(){return t.isLoadingFile?null:t.switchTab("bulk")}),s(11," Bulk Prediction "),v(12,Ue,2,0,"span",5),r()()()(),a(13,"c-card-body"),v(14,qe,40,16,"div",6)(15,Dt,49,23,"div",7),r()()()(),v(16,Tt,16,1,"c-card",8)(17,It,1,0,"div",9),r()),i&2&&(o(7),F("opacity",t.isLoadingFile?"0.7":"1")("pointer-events",t.isLoadingFile?"none":"auto"),P("disabled",t.isLoadingFile),c("active",t.activeTab==="single"),o(3),F("opacity",t.isLoadingFile?"0.7":"1")("pointer-events",t.isLoadingFile?"none":"auto"),P("disabled",t.isLoadingFile),c("active",t.activeTab==="bulk"),o(2),c("ngIf",!t.hasBulkAccess),o(2),c("ngIf",t.activeTab==="single"),o(),c("ngIf",t.activeTab==="bulk"),o(),c("ngIf",t.showCategoryModal),o(),c("ngIf",t.showCategoryModal))},dependencies:[se,te,Y,X,Z,ee,Se,Fe,Ce,ne,ye,be,xe,ce,de,He,Ie,Ne,Oe,ke,Le,De,Ee,Me,Ve,Be,pe,Pe,ue,he,ve,fe,ze,Te,me,_e,ge,le],styles:['[_nghost-%COMP%]   .legend[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:x-small}.dashboard-container[_ngcontent-%COMP%]{width:95%;margin:0 auto;padding:1rem}.dashboard-container[_ngcontent-%COMP%]   c-card[_ngcontent-%COMP%]{width:100%}c-card-body[_ngcontent-%COMP%]{width:100%}c-chart[_ngcontent-%COMP%]{display:block;width:100%;min-height:300px}.categories-summary[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px;cursor:help}.categories-summary[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;padding:.25em .4em;border-radius:.25rem;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline}[title][_ngcontent-%COMP%]{position:relative}[title][_ngcontent-%COMP%]:hover:after{content:attr(title);position:absolute;bottom:100%;left:0;background:#000c;color:#fff;padding:5px 10px;border-radius:4px;font-size:.75rem;z-index:100;white-space:pre;min-width:150px}.premium-content-container[_ngcontent-%COMP%]{position:relative;width:100%}.premium-content-blur[_ngcontent-%COMP%]{filter:blur(2px);pointer-events:none;-webkit-user-select:none;user-select:none;opacity:.7}.premium-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:10;background:#0003;border-radius:5px}.premium-message[_ngcontent-%COMP%]{background-color:#fffffff2;padding:20px;border-radius:8px;text-align:center;box-shadow:0 4px 15px #00000026;max-width:90%;width:450px}.premium-tag[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background-color:#f0ad4e;color:#fff;padding:5px 15px;border-radius:20px;font-weight:700;box-shadow:0 2px 5px #0003;z-index:11}.disabled[_ngcontent-%COMP%]{opacity:.7!important;pointer-events:none!important;cursor:not-allowed!important}c-chart[_ngcontent-%COMP%]{transition:opacity .2s ease-in-out}[id^=chart-container-][_ngcontent-%COMP%]{min-height:400px;position:relative}.loading-state[_ngcontent-%COMP%]{position:relative}.loading-state[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#fffc;z-index:10;pointer-events:none}']})}}return n})();export{Yt as DashboardComponent};
